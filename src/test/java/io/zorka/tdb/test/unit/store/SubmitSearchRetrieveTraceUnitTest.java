package io.zorka.tdb.test.unit.store;

public class SubmitSearchRetrieveTraceUnitTest {

    //@Test  TODO make this running again
    public void testListAllTraces() throws Exception {

//        SimpleTraceStore store = createSimpleStore(1); store.open();
//
//        String agentUUID = UUID.randomUUID().toString();
//        String sessnUUID = store.getSession(agentUUID);
//
//        store.handleAgentData(agentUUID, sessnUUID, agentData());
//        store.handleTraceData(agentUUID, sessnUUID, UUID.randomUUID().toString(), trc(100, 100), md(1, 2));
//        store.handleTraceData(agentUUID, sessnUUID, UUID.randomUUID().toString(), trc(200, 200), md(1, 2));
//
//        List<Long> lst = searchStore(store);
//
//        assertEquals(2, lst.size());
//        assertTrue(lst.get(0) >= 0);
//        assertTrue(lst.get(1) >= 0);

        //RecursiveTraceDataRetriever<TraceRecord> rtr = new RecursiveTraceDataRetriever<>((a, b) -> a);
        //store.retrieveChunk(lst.get(0), rtr); assertNotNull(rtr.getResult());
        //rtr.clear(); store.retrieveChunk(lst.get(0), rtr); assertNotNull(rtr.getResult());
    }

}
