/*
 * Copyright 2016-2018 Rafal Lewczuk <rafal.lewczuk@jitlogic.com>
 * <p/>
 * This is free software. You can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option) any later
 * version.
 * <p/>
 * This software is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 * <p/>
 * You should have received a copy of the GNU General Public License
 * along with this software. If not, see <http://www.gnu.org/licenses/>.
 */

package io.zorka.tdb.test.unit.store;

public class SubmitSearchRetrieveTraceUnitTest {

    //@Test  TODO make this running again
    public void testListAllTraces() throws Exception {

//        SimpleTraceStore store = createSimpleStore(1); store.open();
//
//        String agentUUID = UUID.randomUUID().toString();
//        String sessnUUID = store.getSession(agentUUID);
//
//        store.handleAgentData(agentUUID, sessnUUID, agentData());
//        store.handleTraceData(agentUUID, sessnUUID, UUID.randomUUID().toString(), trc(100, 100), md(1, 2));
//        store.handleTraceData(agentUUID, sessnUUID, UUID.randomUUID().toString(), trc(200, 200), md(1, 2));
//
//        List<Long> lst = searchStore(store);
//
//        assertEquals(2, lst.size());
//        assertTrue(lst.get(0) >= 0);
//        assertTrue(lst.get(1) >= 0);

        //RecursiveTraceDataRetriever<TraceRecord> rtr = new RecursiveTraceDataRetriever<>((a, b) -> a);
        //store.retrieveChunk(lst.get(0), rtr); assertNotNull(rtr.getResult());
        //rtr.clear(); store.retrieveChunk(lst.get(0), rtr); assertNotNull(rtr.getResult());
    }

}
